#!/usr/bin/env sh
. "$(dirname "$0")/h"

echo "Running pre-push checks..."

# Run build
echo "📦 Building the project..."
npm run build || {
    echo "❌ Build failed. Please fix the build errors before pushing."
    exit 1
}

# Run tests
echo "🧪 Running tests..."
npm run test || {
    echo "❌ Tests failed. Please fix the failing tests before pushing."
    exit 1
}

echo "✅ Pre-push checks passed!"
exit 0